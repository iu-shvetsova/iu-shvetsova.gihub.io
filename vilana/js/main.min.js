"use strict";!function(){function e(e){this.selector=e,this.tabActiveClass="base-tabs__tab--active",this.container=document.querySelector(e),this.container&&(this.contentList=this.container.querySelectorAll(".base-tabs__content"),this.tabsList=this.container.querySelectorAll(".base-tabs__tab"))}e.prototype.init=function(){if(this.container){if(this.tabsList&&this.contentList){for(var e=0;e<this.tabsList.length;e++)this.tabsList[e].addEventListener("click",this.onTabClicked.bind(this,e));this.tabsList[0].click()}this.enableSliderMode()}},e.prototype.enableSliderMode=function(){var e=document.createElement("div"),t=document.createElement("button"),o=document.createElement("button");e.classList.add("base-tabs__pagination","swiper-pagination"),t.classList.add("base-tabs__slider-button","base-tabs__slider-button--prev","swiper-button-prev"),o.classList.add("base-tabs__slider-button","base-tabs__slider-button--next","swiper-button-next");var n=this.container.querySelector(".base-tabs__content-wrapper");n.classList.add("swiper-container"),this.container.querySelector(".base-tabs__content-list").classList.add("swiper-wrapper"),n.appendChild(e),n.parentNode.appendChild(t),n.parentNode.appendChild(o),this.contentList.forEach(function(e){e.classList.add("swiper-slide")}),this.swiper=new Swiper(".base-tabs__content-wrapper",{direction:"horizontal",slidesPerView:1,allowTouchMove:!0,autoHeight:!0,breakpoints:{768:{allowTouchMove:!1}},pagination:{el:".base-tabs__pagination",type:"bullets"},navigation:{nextEl:".base-tabs__slider-button--next",prevEl:".base-tabs__slider-button--prev"}});var r=this;this.swiper.on("slideChange",function(){r.activateTab(this.activeIndex)})},e.prototype.activateTab=function(e){void 0!==this.currentIndex&&this.tabsList[this.currentIndex].classList.remove(this.tabActiveClass);var t=this.tabsList[e];t&&(t.classList.add(this.tabActiveClass),this.currentIndex=e)},e.prototype.onTabClicked=function(e){this.swiper&&this.swiper.slideTo(e),this.activateTab(e)},new e(".catalog-inner-page__product-info").init()}(),function(){var n=window.IMask,e=document.getElementById("price-tel"),t=document.getElementById("order-tel"),o=document.getElementById("signin-email-phone"),r=document.querySelector(".registry #phone"),i=document.querySelector(".profile-info #phone"),a=document.querySelector(".profile-info #birthday"),l=document.querySelector(".personal-solution__input-row #phone");function s(e,t){e&&n(e,{mask:"+{7} (000) 000-00-00",lazy:t=!1!==t})}function c(e,t,o){e&&n(e,{mask:Date,min:t,max:o})}function d(e){e&&n(e,{mask:[{mask:"+{7} (000) 000-00-00"},{mask:/^\S*@?\S*$/}]})}s(r),s(e),s(t),s(i),s(l,!1),c(a,null,new Date),d(o),window.checkWebpSupport(),window.createPhoneMask=s,window.createDateMask=c,window.createEmailOrPhoneMask=d}(),function(){var t=/^[a-zа-яё\s]+$/i,o=/.+@.+\..+/,n=/\+7 \(\d\d\d\) \d\d\d-\d\d-\d\d/,r=/^(((0[1-9]|[12]\d|3[01])\.(0[13578]|1[02])\.((19|[2-9]\d)\d{2}))|((0[1-9]|[12]\d|30)\.(0[13456789]|1[012])\.((19|[2-9]\d)\d{2}))|((0[1-9]|1\d|2[0-8])\.02\.((19|[2-9]\d)\d{2}))|(29\.02\.((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))))$/,i="input-row__input--error",a="checkbox-row__label--error",l=/_/,s=function(e,t){e.parentNode.querySelector(".input-row__error-message").textContent=t};window.toggleEmptyFieldError=function(e){e.value.length<1&&(e.classList.toggle(i,!0),s(e,"Заполните это поле"))},window.toggleInputError=function(e){e.value.length<1?(e.classList.toggle(i,!0),s(e,"Заполните это поле")):t.test(e.value)||(e.classList.toggle(i,!0),s(e,"Некорректное имя"))},window.toggleEmailError=function(e){e.value.length<1?(e.classList.toggle(i,!0),s(e,"Заполните это поле")):o.test(e.value)||(e.classList.toggle(i,!0),s(e,"Некорректный email"))},window.togglePhoneError=function(e){l.test(e.value)&&(e.classList.toggle(i,!0),s(e,"Некорректный номер телефона"))},window.toggleDateError=function(e){r.test(e.value)||(e.classList.toggle(i,!0),s(e,"Некорректный формат даты"))},window.toggleCheckboxError=function(e,t){e.checked||t.classList.toggle(a,!0)},window.toggleLoginError=function(e){o.test(e.value)||n.test(e.value)||(e.classList.toggle(i,!0),s(e,"Введите корректный адрес электронной почты или номер телефона"))},window.togglePasswordError=function(e){e.value.length<1?(e.classList.toggle(i,!0),s(e,"Заполните это поле")):e.value.length<5&&(e.classList.toggle(i,!0),s(e,"Пароль слишком короткий"))},window.toggleRepeatPasswordError=function(e,t){t.value.length<1?(t.classList.toggle(i,!0),s(t,"Заполните это поле")):t.value&&e.value===t.value||(t.classList.toggle(i,!0),s(t,"Пароли не совпадают"))},window.changeErrorMessage=s,window.resetError=function(e){e.target.classList.toggle(i,!1)},window.checkboxErrorClass=a,window.phoneErrorSymbol=l,window.MASK_NAME=t,window.MASK_EMAIL=o,window.MASK_PHONE=n,window.MASK_DATE=r}(),function(){var e=document.querySelector(".popup-thx");window.closePopupThx=function(){document.querySelector(".popup--show.popup-thx")&&setTimeout(function(){e.classList.add("popup-thx--close"),setTimeout(function(){window.closePopup(),e.classList.remove("popup-thx--close")},400)},1e3)}}(),function(){var e=document.querySelector(".total__button-execute"),t=document.querySelector(".total__button-technologist"),o=document.querySelector(".popup-warning"),n=document.querySelector(".popup-technologist");if(o)var r=o.querySelector(".popup-warning__technologist");function l(e){var t=e.replace(/\s/,"");return parseInt(t,10).toLocaleString()}function s(){var e=0;if(m=document.querySelectorAll(".cards-list__total-price"))for(var t=0;t<m.length;t++){var o=m[t].textContent.replace(/\s/,"");e+=parseInt(o,10)||0}p&&(p.innerHTML=l(String(e))||0)}function i(e){e.target.closest(".cards-list__item").remove(),s()}function a(e){var t=e.target.closest(".cards-list__item"),o=parseInt(e.target.value,10)||0;if(t){var n=t.querySelector(".cards-list__price-item"),r=t.querySelector(".cards-list__total-price"),i=n.textContent.replace(/\s/,""),a=parseInt(i,10);n&&r&&(r.innerHTML=l(String(a*o))+" ₽",s())}}var c=document.querySelectorAll(".cards-list__delete-item"),d=document.querySelectorAll(".cards-list__number-input"),u=document.querySelectorAll(".cards-list__number-input .number-input__input"),p=document.querySelector(".cart__total .total__total-cost"),m=document.querySelectorAll(".cards-list__total-price"),g=document.querySelectorAll(".cards-list__price-item");if(e&&e.addEventListener("click",function(){o&&window.openPopup(o)}),t&&t.addEventListener("click",function(){n&&window.openPopup(n)}),r&&r.addEventListener("click",function(){n&&window.openPopup(n)}),c)for(var w=0;w<c.length;w++)c[w].addEventListener("click",i);if(u)for(var y=0;y<u.length;y++)u[y].addEventListener("change",a);if(s(),m)for(var _=0;_<m.length;_++)m[_].innerHTML=l(m[_].textContent)+" ₽";for(var h=0;h<g.length;h++)g[h].innerHTML=l(g[h].textContent)+" ₽";setTimeout(function(){if(d)for(var e=0;e<d.length;e++){new window.NumberInput(d[e],1,1/0,1,"шт.").init()}},100)}(),function(){var e=document.querySelector(".related-products__wrapper");if(e){var t;e.classList.add("swiper-container"),e.querySelector(".related-products__list").classList.add("swiper-wrapper"),e.querySelectorAll(".related-products__item").forEach(function(e){e.classList.add("swiper-slide")}),document.querySelector(".related-products__slider-button--prev").classList.add("swiper-button-prev"),document.querySelector(".related-products__slider-button--next").classList.add("swiper-button-next");var o=function(){t=new Swiper(".related-products__wrapper",{direction:"horizontal",grabCursor:!0,slidesPerView:2,spaceBetween:56,breakpoints:{320:{slidesPerView:1,slidesPerColumn:1},768:{slidesPerView:1,slidesPerColumn:2,spaceBetween:30},1280:{slidesPerView:2,slidesPerColumn:1,spaceBetween:45},1600:{slidesPerView:2,spaceBetween:56}},navigation:{nextEl:".related-products__slider-button--next",prevEl:".related-products__slider-button--prev"}})};o(),window.onresize=function(){t.destroy(),o()}}var n=document.querySelector(".popup-price"),r=document.querySelector(".price-banner__button");n&&r&&r.addEventListener("click",function(){window.openPopup(n)});var i=document.querySelector(".price-calculator__liters-value"),a=document.querySelector(".price-calculator__liters-tooltip");if(i&&a){new Popper(i,a,{placement:"right",modifiers:{offset:{enabled:!0,offset:"0, 15"}}});i.addEventListener("mouseenter",function(){a.classList.add("tooltip--active")}),i.addEventListener("mouseleave",function(){a.classList.remove("tooltip--active")})}var l=document.querySelectorAll(".catalog-inner-page .product-card__button"),s=document.querySelector(".catalog-inner-page .price-calculator__add-to-cart");l&&s&&(l=Array.from(l),setTimeout(function(){l.forEach(function(e){window.switchCartButtonState(e,"btn--green","product-card__button--grey")}),window.switchCartButtonState(s,"btn--green","price-calculator__add-to-cart--disabled")}))}(),function(){var e=document.querySelector(".rectangle-details__button--quote"),t=document.querySelector(".rectangle-details__button--signin"),o=document.querySelector(".popup-signin__reset-pass"),n=document.querySelector(".popup-price"),r=document.getElementById("price-name"),i=document.getElementById("price-email"),a=document.getElementById("price-tel"),l=document.getElementById("price-personal-data"),s=null;n&&(s=n.querySelector(".checkbox-row__label"));var c=document.querySelector(".popup-signin"),d=document.getElementById("signin-email-phone"),u=document.getElementById("signin-pass"),p=document.querySelector(".popup-reset-pass"),m=document.getElementById("reset-pass-email"),g=document.querySelector(".popup-thx");e&&e.addEventListener("click",function(){n&&window.openPopup(n)}),n&&(n.addEventListener("input",function(e){"checkbox"===e.target.type?e.target.nextElementSibling.classList.toggle(window.checkboxErrorClass,!1):window.resetError(e)}),window.createPhoneMask(a,!1),n.addEventListener("submit",function(e){window.toggleInputError(r),window.toggleEmailError(i),window.togglePhoneError(a),window.toggleCheckboxError(l,s),r.value&&window.MASK_NAME.test(r.value)&&window.MASK_EMAIL.test(i.value)&&!(a.value.length<1)&&!window.phoneErrorSymbol.test(a.value)&&l.checked?(window.openPopup(g),window.closePopupThx(g)):e.preventDefault()})),t&&t.addEventListener("click",function(){c&&window.openPopup(c)}),c&&(c.addEventListener("input",window.resetError),window.createEmailOrPhoneMask(d),c.addEventListener("submit",function(e){window.toggleLoginError(d),window.toggleInputError(u),u.value&&(window.MASK_EMAIL.test(d.value)||window.MASK_PHONE.test(d.value))?window.closePopup():e.preventDefault()}),o&&o.addEventListener("click",function(){p&&window.openPopup(p)})),p&&(p.addEventListener("input",window.resetError),p.addEventListener("submit",function(e){window.toggleEmailError(m),window.MASK_EMAIL.test(m.value)?window.closePopup():e.preventDefault()}))}(),function(){var t=document.querySelectorAll(".catalog .product-card__button");setTimeout(function(){if(t)for(var e=0;e<t.length;e++)window.switchCartButtonState(t[e],"btn--green","product-card__button--grey")},100)}(),function(){var n=document.querySelector(".choose-paint__form");if(n){var t=n.querySelector(".choose-paint__list").querySelectorAll(".choose-paint__item"),e=n.querySelectorAll(".choose-paint__scheme-item"),r=n.querySelector(".choose-paint__square-wrapper").getElementsByTagName("input")[0],i=/^\d+(?:[.,]\d+)?$/,o=function(e){e.getElementsByTagName("input")[0].checked=!0},a=function(e){!function(){for(var e=0;e<t.length;e++)t[e].classList.remove("choose-paint__item--checked")}(),e.classList.add("choose-paint__item--checked"),o(e)};t.forEach(function(e){e.addEventListener("click",function(){a(e)})}),e.forEach(function(e){e.addEventListener("click",function(){o(e)})}),r.addEventListener("keydown",function(e){69!==e.which&&189!==e.which||e.preventDefault()});n.addEventListener("submit",function(e){!function(){var e=!0,t=n.querySelectorAll("input[name=paint-choice]:checked"),o=n.querySelectorAll("input[name=scheme-choice]:checked");return 0===t.length&&(e=!1),0===o.length&&(e=!1),0===r.value.length&&(e=!1),r.value.match(i)||(e=!1),e}()?e.preventDefault():(e.preventDefault(),window.location.href="vilana-recommend.html")})}}(),function(){function a(){if(c){c.removeEventListener("click",m);var e=c.parentNode.querySelector(".color-change__button--active");e&&e.classList.toggle("color-change__button--active",!1),c.remove(),s=c=null,window.innerWidth<1600&&window.unlockBody()}}function l(e){var t=Object.keys(e.color),o=document.createElement("section");o.classList.add("popup-color");var n=document.createElement("div");n.classList.add("popup-color__wrapper");var r=document.createElement("h2");r.innerHTML="Выберите цветовую схему";var i=document.createElement("ul");i.classList.add("same-list","popup-color__list");var a=document.createElement("button");a.setAttribute("type","button"),a.classList.add("popup-color__close"),a.innerHTML="Закрыть",o.appendChild(n),n.appendChild(r),n.appendChild(i),n.appendChild(a);for(var l=0;l<t.length;l++){var s=document.createElement("li");s.classList.add("popup-color__item");var c=document.createElement("button");c.setAttribute("type","button"),c.classList.add("popup-color__button");var d=document.createElement("p"),u=t[l],p=e.color[u];d.innerHTML=u,c.style="background-color: "+p,c.dataset.color=p,c.dataset.name=u,s.appendChild(c),s.appendChild(d),i.appendChild(s)}return o.addEventListener("click",m),o}var s=null,c=null,e=document.querySelectorAll(".color-change__button"),t=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),m=function(e){if("popup-color__button"===e.target.className){var t=document.querySelector('.color-change__button[data-id="'+s+'"]');if(!t)return;var o=t.closest(".color-change");o&&(function(e,t){var o=e.querySelector(".color-change__preview"),n=e.querySelector(".color-change__color-code");o&&(o.style="background-color: "+t.color),n&&(n.innerHTML=t.name)}(o,e.target.dataset),a())}"popup-color__close"===e.target.className&&a()};if(e)for(var o=0;o<e.length;o++)e[o].addEventListener("click",function(e){if(a(),s=e.target.dataset.id,window.paintList&&window.paintList[s]){var t=(r=e.target,{top:(i=r.getBoundingClientRect()).top+pageYOffset,bottom:i.bottom+pageYOffset,left:i.left+pageXOffset}).bottom+26;c=l(window.paintList[s]),1600<=window.innerWidth&&(c.style="top: "+t+"px"),document.body.appendChild(c),e.target.classList.toggle("color-change__button--active",!0),window.innerWidth<1600&&window.lockBody();var o=c.querySelector(".popup-color__list");if(o){var n="height: "+o.offsetHeight+"px; width:"+o.offsetWidth+"px;";o.style=n,o.scrollHeight>o.clientHeight&&o.classList.add("popup-color__list--long"),window.SimpleScrollbar.initEl(o),o.style=n+"display: inline-block"}}var r,i});document.body.addEventListener("click",function(e){e.target.closest(".popup-color")||e.target.classList.contains("color-change__button")||a()}),window.addEventListener("resize",function(){t||a()})}(),function(){var e=document.querySelectorAll(".contacts__item"),r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;e&&e.forEach(function(e){var t=e.querySelector(".contacts__item-open"),o=e.querySelector(".contacts__item-wrapper"),n=e.querySelector(".contacts__item-name");r<1280&&o.classList.add("contacts__item-wrapper--closed"),n.addEventListener("click",function(e){e.preventDefault(),window.toggleClass(o,"contacts__item-wrapper--opened"),window.toggleClass(o,"contacts__item-wrapper--closed"),window.toggleClass(t,"contacts__item-open--closed")})})}(),function(){var e=document.querySelector(".custom-slider");if(e){var o,n,t=e.querySelector(".custom-slider__button--next"),r=e.querySelector(".custom-slider__button--prev"),i=e.querySelectorAll(".custom-slider__item"),a=e.querySelectorAll(".custom-slider__pagination-item"),l=e.querySelector(".corrosion__paints-number"),s=0,c=i.length,d=function(){o=0===s?c-1:s-1},u=function(){n=s===c-1?0:s+1},p=function(){if(l){var e=String(s+1);e.length<2&&(e="0"+e),l.textContent=e}};t.addEventListener("click",function(){s===c-1?s=0:s++,d(),u(),i[o].classList.add("custom-slider__item--clockwise-hide"),i[o].classList.remove("custom-slider__item--current"),i[s].classList.add("custom-slider__item--clockwise-show"),i[s].classList.add("custom-slider__item--current");var e=o,t=s;setTimeout(function(){i[e].classList.remove("custom-slider__item--clockwise-hide"),i[t].classList.remove("custom-slider__item--clockwise-show")},1100),a[o].classList.remove("custom-slider__pagination-item--current"),a[s].classList.add("custom-slider__pagination-item--current"),p()}),r.addEventListener("click",function(){0===s?s=c-1:s--,d(),u(),i[n].classList.add("custom-slider__item--anti-clockwise-hide"),i[n].classList.remove("custom-slider__item--current"),i[s].classList.add("custom-slider__item--anti-clockwise-show"),i[s].classList.add("custom-slider__item--current");var e=n,t=s;setTimeout(function(){i[e].classList.remove("custom-slider__item--anti-clockwise-hide"),i[t].classList.remove("custom-slider__item--anti-clockwise-show")},1100),a[n].classList.remove("custom-slider__pagination-item--current"),a[s].classList.add("custom-slider__pagination-item--current"),p()})}}(),function(){var t=document.querySelector(".personal-solution__file-upload"),o="personal-solution__file-upload--active";if(t){var e=t.querySelector("input"),n=document.querySelector(".personal-solution__files-list"),r=document.querySelector("#personalSolutionFile").content.children[0];e.addEventListener("change",function(){i(this.files)}),t.addEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.classList.add(o)}),t.addEventListener("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.classList.remove(o)}),t.addEventListener("drop",function(e){e.preventDefault(),e.stopPropagation(),i(e.dataTransfer.files),t.classList.remove(o)})}function i(e){Array.from(e).forEach(function(e){var t=r.cloneNode(!0),o=t.querySelector(".personal-solution__file-name");t.querySelector(".personal-solution__file-close").addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.remove()}),o.textContent=e.name,n.appendChild(t)})}}(),function(){var t=document.querySelector(".page-header");if(t){var e=document.querySelector("body"),o=t.querySelector(".page-header__contacts"),n=o.innerText,r=t.querySelector(".page-header__contacts-popup"),i=t.querySelectorAll(".opener"),a=t.querySelector(".page-header__toggle"),l=t.querySelector(".page-header__main-nav"),s=t.querySelector(".page-header__main-nav--bordered"),c=t.querySelector(".page-header__search"),d=(t.querySelector(".page-header__search-close"),t.querySelector(".page-header__search-wrapper"),document.querySelector(".popup-search")),u=document.querySelector(".search-header__form-close"),p=t.querySelector(".page-header__nav-link--call"),m=document.querySelector(".popup-technologist"),g=function(e){27===e.keyCode&&(d.classList.add("popup-search--closed"),window.unlockBody()),document.removeEventListener("keydown",g)},w=function(e){e.target.matches(".contacts-popup, .contacts-popup *")||(r.classList.remove("page-header__contacts-popup--opened"),i.forEach(function(e){e.classList.remove("opener--opened")}),document.removeEventListener("click",w))};if(d&&(c.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),s&&s.classList.remove("page-header__main-nav--opened"),r.classList.remove("page-header__contacts-popup--opened"),d.classList.remove("popup-search--closed"),window.addEventListener("keydown",g),window.lockBody()}),u.addEventListener("click",function(e){d.classList.add("popup-search--closed"),window.unlockBody()})),p&&m&&p.addEventListener("click",function(){window.openPopup(m)}),a.addEventListener("click",function(){t.classList.contains("page-header--opened")?(e.style.overflow="visible",t.classList.remove("page-header--opened"),a.classList.remove("page-header__toggle--opened"),l.style.display="none",s&&window.matchMedia("(max-width: 767px)").matches&&(t.querySelector(".page-header__nav-list--left").style.display="none",t.querySelector(".page-header__nav-wrapper").classList.remove("page-header__nav-wrapper--opened"),t.querySelector(".opener").classList.remove("opener--opened")),t.style=y,r.classList.contains("page-header__contacts-popup--opened")&&(o.innerText=n,r.classList.remove("page-header__contacts-popup--opened"),i.forEach(function(e){e.classList.remove("opener--opened")}))):(e.style.overflow="hidden",t.classList.add("page-header--opened"),a.classList.add("page-header__toggle--opened"),l.style.display="block",s&&window.matchMedia("(max-width: 767px)").matches&&(t.querySelector(".page-header__nav-list--left").style.display="block"))}),s){var y=t.style,_=s.querySelector("#shop-catalog"),h=t.querySelector(".page-header__nav-wrapper");if(window.matchMedia("(max-width: 900px)").matches)_.addEventListener("click",function(e){e.preventDefault(),h.classList.contains("page-header__nav-wrapper--opened")?(h.classList.remove("page-header__nav-wrapper--opened"),t.style=y):(h.classList.add("page-header__nav-wrapper--opened"),t.style.background="#124ba6")});else{var f=function(e){e.target.matches(".page-header__nav-list--inner, .page-header__nav-list--inner *")||(s.classList.remove("page-header__main-nav--opened"),i.forEach(function(e){e.classList.remove("opener--opened")}),document.removeEventListener("click",f))};_.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),r.classList.remove("page-header__contacts-popup--opened"),s.classList.toggle("page-header__main-nav--opened"),window.addEventListener("click",f)})}}window.matchMedia("(max-width: 767px)").matches?o.addEventListener("click",function(e){e.preventDefault(),r.classList.contains("page-header__contacts-popup--opened")?(o.innerText=n,r.classList.remove("page-header__contacts-popup--opened"),l.style.display="block",s&&(t.querySelector(".page-header__nav-list--left").style.display="block")):(o.innerText="Свернуть",l.style.display="none",r.classList.add("page-header__contacts-popup--opened"),s&&(t.querySelector(".page-header__nav-list--left").style.display="none"))}):o.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),s&&s.classList.remove("page-header__main-nav--opened"),r.classList.toggle("page-header__contacts-popup--opened"),window.addEventListener("click",w)})}}(),function(){function e(e){t.classList.toggle("news-inner__table-wrapper--right-blur",!e.isEnd),t.classList.toggle("news-inner__table-wrapper--left-blur",!e.isBeginning)}var t=document.querySelector(".news-inner__table-wrapper"),o=document.querySelector(".news-inner__table-section");if(window.innerWidth<1280&&t){o.classList.remove("site-container"),t.querySelector(".news-table").classList.add("swiper-slide");var n=new Swiper(".news-inner__table-wrapper",{init:!1,direction:"horizontal",slidesPerView:.7384,slidesOffsetAfter:60,breakpoints:{320:{slidesPerView:.4849,slidesOffsetAfter:24},768:{slidesPerView:.7384,slidesOffsetAfter:60}},navigation:{nextEl:".news-inner__slider-button--next",prevEl:".news-inner__slider-button--prev"}});n.on("init",function(){e(n)}),n.init(),n.on("transitionEnd",function(){e(n)})}}(),function(){var e=document.querySelector(".tabs"),t=document.querySelector(".main-contacts"),o=document.querySelector(".main-features__top-list"),n=document.querySelector(".main-features__slider-wrapper"),u=1440<window.innerWidth;if(o){var r=anime({targets:".indicator__icon",keyframes:[{scale:.5,translateX:140,translateY:-100}],easing:"linear",duration:1e3,delay:1e3,autoplay:!1}),i=anime({targets:".indicator__icon--rhombus path",d:[{value:"M9,594.5C-32.7,398.5,60.2,61.7,493.6,7.6C869-39.4,1230.4,137,1368,409.3c213.8,423.1-142.2,809.8-508.1,621.6 C545.7,869.3,77.7,916.9,9,594.5z"},{value:"M535.4,1074.7C375.5,913,234.4,771.9,0,540.5C156.3,372.6,297.4,243.5,534.2,5.2 c147.5,145.3,252.6,253.3,535.3,534.2C930.9,681.8,768.8,843.9,535.4,1074.7z"}],easing:"linear",duration:2e3,autoplay:!1}),a=anime({targets:".indicator__icon--triangle path",d:[{value:"M9,594.5C-32.7,398.5,60.2,61.7,493.6,7.6C869-39.4,1230.4,137,1368,409.3c213.8,423.1-142.2,809.8-508.1,621.6 C545.7,869.3,77.7,916.9,9,594.5z"},{value:"M14.4,1064.5C15.2,871,18.2,399.6,20.6,8.9C330.7,318.9,351.7,339.9,555.9,541 c186.1,189.1,420.3,420.3,523.6,526.7C761.7,1066,360.5,1063.1,14.4,1064.5z"}],easing:"linear",duration:2e3,autoplay:!1}),l=anime({targets:".indicator__icon--circle path",d:[{value:"M9,594.5C-32.7,398.5,60.2,61.7,493.6,7.6C869-39.4,1230.4,137,1368,409.3c213.8,423.1-142.2,809.8-508.1,621.6 C545.7,869.3,77.7,916.9,9,594.5z"},{value:"M14.7,595.6C-10.5,470,78,50.5,494.5,15.4C871.1,0,1017.8,248.8,1061.7,452.3c57.3,466-364.1,635.3-586.8,610 C315.4,1049.6,71.9,927.7,14.7,595.6z"}],easing:"linear",duration:2e3,autoplay:!1});$(".main-features__top-list").on("inview",function(e,t){t&&(i.restart(),a.restart(),l.restart(),r.restart(),$(".main-features__top-list").off("inview"))})}if(e){var s=1279,c=(o=document.querySelector("#features-wrapper .corrosion__slider"),document.querySelector(".complex__slider-wrapper"),e.querySelectorAll(".tabs__button")),d=document.querySelector(".corrosion"),p=document.querySelector("#wood-wrapper"),m=document.querySelector(".complex");!function(){if(window.matchMedia("(max-width: "+s+"px)").matches){o.classList.add("swiper-container"),o.classList.add("s1"),o.querySelector(".corrosion__features-list").classList.add("swiper-wrapper"),o.querySelectorAll(".corrosion__features-item").forEach(function(e){e.classList.add("swiper-slide")}),o.querySelector(".slider-button--prev").classList.add("swiper-button-prev"),o.querySelector(".slider-button--next").classList.add("swiper-button-next");new Swiper(".s1",{direction:"horizontal",loop:!0,grabCursor:!0,slidesPerView:1,spaceBetween:10,breakpoints:{600:{slidesPerView:2,spaceBetween:10}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}}(),function(){var e=p.querySelector(".wood-wrapper__modal-button"),t=p.querySelector(".popup-request");e.addEventListener("click",function(){window.openPopup(t)}),document.addEventListener("lazybeforeunveil",function(e){if(e.target.classList.contains("wood__house-image")){var t=document.querySelectorAll(".wood__house-image")[0];document.querySelector(".twentytwenty-container").style.height=t.height+"px",$(".twentytwenty-container").twentytwenty({default_offset_pct:u?.72:.5})}});var o,n=p.querySelector("#sprite"),r=0;if(window.matchMedia("(max-width: 767px)").matches){var i=p.querySelector(".cube__slider-wrapper");i.classList.add("swiper-container"),i.classList.add("s3"),i.querySelector(".cube__list").classList.add("swiper-wrapper"),i.querySelectorAll(".cube__item").forEach(function(e){e.classList.add("swiper-slide")}),i.querySelector(".slider-button--prev").classList.add("swiper-button-prev"),i.querySelector(".slider-button--next").classList.add("swiper-button-next"),i.querySelector(".cube__slider-pagination").classList.add("swiper-pagination");var a=new Motio(n,{fps:30,vertical:!0,frames:65,width:350,height:350}),l=function(e){switch(e){case 0:a.play(),a.to(48,function(){a.pause()});break;case 1:a.play(),a.to(24,function(){a.pause()});break;case 2:a.play(),a.to(0,function(){a.pause()})}};a.to(48,!0);var s=new Swiper(".s3",{direction:"horizontal",loop:!0,slidesPerView:1,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});s.navigation.nextEl.addEventListener("click",function(){o=s.realIndex,l(o)}),s.navigation.prevEl.addEventListener("click",function(){o=s.realIndex,l(o)})}else{var c=document.querySelectorAll(".cube__item"),d=new Motio(n,{fps:25,vertical:!0,frames:65,width:800,height:800});l=function(e,t){if(e!==t)switch(d.play(),t){case 0:d.to(48,function(){d.pause()});break;case 1:d.to(24,function(){d.pause()});break;case 2:d.to(0,function(){d.pause()})}};d.to(48,!0),c.forEach(function(e){e.addEventListener("mouseover",function(){c.forEach(function(e){e.classList.remove("cube__item--active")}),e.classList.add("cube__item--active"),e.classList.contains("cube__item--first")?o=0:e.classList.contains("cube__item--second")?o=1:e.classList.contains("cube__item--third")&&(o=2),l(r,o),r=o})})}}(),d.style.display="none",m.style.display="none",p.style.display="block",c.forEach(function(t){t.addEventListener("click",function(e){switch(e.preventDefault(),c.forEach(function(e){e.parentElement.classList.remove("tabs__item--current")}),t.parentElement.classList.add("tabs__item--current"),t.parentElement.getAttribute("data-section")){case"corrosion":d.style.display="block",m.style.display="none",p.style.display="none";break;case"wood":d.style.display="none",m.style.display="none",p.style.display="block";break;case"complex":d.style.display="none",m.style.display="block",p.style.display="none",window.examplesSlider.update()}})})}if(n){if(window.matchMedia("(max-width: "+s+"px)").matches){n.classList.add("swiper-container"),n.classList.add("s4"),n.querySelector(".main-features__bottom-list").classList.add("swiper-wrapper"),n.querySelectorAll(".main-features__item").forEach(function(e){e.classList.add("swiper-slide")}),n.querySelector(".slider-button--prev").classList.add("swiper-button-prev"),n.querySelector(".slider-button--next").classList.add("swiper-button-next"),n.querySelector(".slider-pagination").classList.add("swiper-pagination");var g=new Swiper(".s4",{direction:"horizontal",loop:!0,slidesPerView:1,effect:"fade",pagination:{el:".swiper-pagination",type:"fraction"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{slideChange:function(){w.forEach(function(e){e.classList.contains("main-features__details-toggle--active")&&e.click()})}}})}var w=Array.from(document.querySelectorAll(".main-features__details-toggle"));w.forEach(function(e){e.addEventListener("click",function(){this.classList.toggle("main-features__details-toggle--active");var e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight="":e.style.maxHeight=e.scrollHeight+"px",g.update()})})}if(t){var y,_,h={primorsky:[59.983468,30.283556],leninsky:[59.852081,30.238487],office:[59.947087,30.333735],store:[59.916388,26.388515]},f=t.querySelectorAll(".main-contacts__button"),v=function(e){_=new window.ymaps.Placemark(e,{hintContent:""},{iconLayout:"default#image",iconImageHref:"images/static/point-large.svg",iconImageSize:[84,119],iconImageOffset:[-55,-110]})},b=function(){y=new window.ymaps.Map("main-map",{center:h.primorsky,zoom:17,controls:[]}),v(h.primorsky),y.geoObjects.add(_)};document.addEventListener("DOMContentLoaded",function(){window.ymaps.ready(b)}),f.forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),f.forEach(function(e){e.parentElement.classList.remove("main-contacts__item--current")}),t.parentElement.classList.add("main-contacts__item--current"),function(e){y.setCenter(e),y.container.fitToViewport(),y.geoObjects.remove(_),v(e),y.geoObjects.add(_)}(h[t.parentElement.getAttribute("data-place")])})})}}(),function(){var e=document.querySelector(".examples-slider");if(e){e.classList.add("swiper-container"),e.querySelector(".examples-slider__list").classList.add("swiper-wrapper"),e.querySelectorAll(".examples-slider__item").forEach(function(e){e.classList.add("swiper-slide")}),e.querySelector(".slider-button--prev").classList.add("swiper-button-prev"),e.querySelector(".slider-button--next").classList.add("swiper-button-next"),e.querySelector(".slider-pagination").classList.add("swiper-pagination");var t=new Swiper(".examples-slider",{direction:"horizontal",loop:!0,slidesPerView:1,effect:"fade",pagination:{el:".swiper-pagination",type:"fraction"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});window.examplesSlider=t}}(),function(){if(document.querySelector("#map-container")){mapboxgl.accessToken="pk.eyJ1Ijoia3Nlbmlhb3Jsb3ZhIiwiYSI6ImNqbGM1bnk0cjBsanYzdms0OWF1OXNkaHMifQ.YqvIjWbMB1zjQszWzf2mOw#2.18/51.12/87.9";var i=new mapboxgl.Map({container:"map-container",style:{version:8,name:"Mapbox Basic Template",metadata:{"mapbox:origin":"basic-template","mapbox:autocomposite":!0,"mapbox:type":"template","mapbox:sdk-support":{js:"0.54.0",android:"7.4.0",ios:"4.11.0"},"mapbox:groups":{}},center:[73.74919907361982,53.73996792162444],zoom:3.097991081574958,bearing:0,pitch:0,sources:{composite:{url:"mapbox://mapbox.mapbox-streets-v8",type:"vector"}},sprite:"mapbox://sprites/kseniaorlova/ck3xoymds0f7b1cp9jx6e1x0y/629bpdwpqxu5j66f3aoku8h84",glyphs:"mapbox://fonts/kseniaorlova/{fontstack}/{range}.pbf",layers:[{id:"background",type:"background",layout:{},paint:{"background-color":"#124ba6"}},{minzoom:5,layout:{},filter:["==",["get","class"],"national_park"],type:"fill",source:"composite",id:"national_park",paint:{"fill-color":"hsla(78, 51%, 73%, 0)","fill-opacity":["interpolate",["linear"],["zoom"],0,0,5,0],"fill-antialias":!1},"source-layer":"landuse_overlay"},{minzoom:5,layout:{},filter:["match",["get","class"],["airport","hospital","park","pitch","school"],!0,!1],type:"fill",source:"composite",id:"landuse",paint:{"fill-color":["match",["get","class"],["airport"],"hsl(345, 6%, 87%)",["hospital"],"hsl(0, 56%, 89%)",["park","pitch"],"hsl(78, 51%, 74%)",["school"],"#ead6c8","hsla(0, 0%, 0%, 0)"],"fill-opacity":["interpolate",["linear"],["zoom"],0,0,5,0]},"source-layer":"landuse"},{minzoom:8,layout:{"line-join":"round","line-cap":"round"},filter:["all",["==",["geometry-type"],"LineString"],["match",["get","class"],["canal","river"],!0,!1]],type:"line",source:"composite",id:"waterway",paint:{"line-color":"#08295a","line-width":["interpolate",["exponential",1.3],["zoom"],8.5,.1,20,8],"line-opacity":["interpolate",["linear"],["zoom"],8,0,8.5,1]},"source-layer":"waterway"},{id:"water",type:"fill",source:"composite","source-layer":"water",layout:{},paint:{"fill-color":"#08295a"}},{minzoom:10,layout:{},filter:["all",["==",["geometry-type"],"Polygon"],["match",["get","type"],["helipad","runway","taxiway"],!0,!1]],type:"fill",source:"composite",id:"aeroway-polygon",paint:{"fill-color":"hsl(0, 0%, 77%)","fill-opacity":0},"source-layer":"aeroway"},{minzoom:9,layout:{},filter:["all",["==",["geometry-type"],"LineString"],["match",["get","type"],["runway","taxiway"],!0,!1]],type:"line",source:"composite",id:"aeroway-line",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],10,.5,18,20],"line-color":"hsl(0, 0%, 77%)","line-opacity":0},"source-layer":"aeroway"},{minzoom:15,layout:{},filter:["all",["!=",["get","type"],"building:part"],["==",["get","underground"],"false"]],type:"fill",source:"composite",id:"building",paint:{"fill-color":"hsl(38, 35%, 78%)","fill-opacity":["interpolate",["linear"],["zoom"],13.5,0,14,0]},"source-layer":"building"},{minzoom:14,layout:{"line-join":"round","line-cap":"round"},filter:["all",["==",["geometry-type"],"LineString"],["!=",["get","type"],"platform"],["match",["get","class"],["path","pedestrian"],!0,!1]],type:"line",source:"composite",id:"pedestrian-path",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,["match",["get","class"],"pedestrian",1,.75],20,["match",["get","class"],"pedestrian",8,5]],"line-color":["match",["get","type"],["crossing","sidewalk"],"hsl(38, 35%, 80%)","hsl(38, 28%, 70%)"],"line-opacity":0},"source-layer":"road"},{minzoom:13,layout:{"line-join":"round"},filter:["all",["==",["geometry-type"],"LineString"],["!=",["get","type"],"service:parking_aisle"],["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","primary_link","secondary","secondary_link","tertiary","tertiary_link","street","street_limited","service","track"],!0,!1]],type:"line",source:"composite",id:"tunnel",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],5,["match",["get","class"],["motorway","trunk","primary"],.5,"tertiary",.01,0],12,["match",["get","class"],["motorway","trunk","primary"],3,["secondary","tertiary"],2,["motorway_link","trunk_link","street","street_limited"],.5,0],18,["match",["get","class"],["motorway","trunk","primary"],30,["secondary","tertiary"],24,["motorway_link","trunk_link","street","street_limited"],12,10]],"line-color":["match",["get","class"],["primary_link","secondary_link","tertiary_link","street","street_limited","service","track"],"hsl(38, 100%, 98%)","hsl(0, 0%, 100%)"],"line-dasharray":[.2,.2]},"source-layer":"road"},{minzoom:5,layout:{"line-join":"round","line-cap":"round"},filter:["all",["==",["geometry-type"],"LineString"],["!=",["get","type"],"service:parking_aisle"],["match",["get","structure"],["bridge","tunnel"],!1,!0],["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","primary_link","secondary","secondary_link","tertiary","tertiary_link","street","street_limited","service","track"],!0,!1]],type:"line",source:"composite",id:"road",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],5,["match",["get","class"],["motorway","trunk","primary"],.5,"tertiary",.01,0],12,["match",["get","class"],["motorway","trunk","primary"],3,["secondary","tertiary"],2,["motorway_link","trunk_link","street","street_limited"],.5,0],18,["match",["get","class"],["motorway","trunk","primary"],30,["secondary","tertiary"],24,["motorway_link","trunk_link","street","street_limited"],12,10]],"line-color":["match",["get","class"],["street","street_limited","service","track","secondary_link","tertiary_link","primary_link","trunk_link"],"hsl(38, 80%, 95%)","hsl(0, 0%, 100%)"],"line-opacity":0},"source-layer":"road"},{minzoom:13,layout:{"line-join":"round"},filter:["all",["==",["geometry-type"],"LineString"],["!=",["get","type"],"service:parking_aisle"],["==",["get","structure"],"bridge"],["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","primary_link","secondary","secondary_link","tertiary","tertiary_link","street","street_limited","service","track"],!0,!1]],type:"line",source:"composite",id:"bridge-case",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1,16,2],"line-color":"hsl(38, 48%, 86%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,["match",["get","class"],["motorway","trunk","primary"],.5,"tertiary",.01,0],12,["match",["get","class"],["motorway","trunk","primary"],3,["secondary","tertiary"],2,["motorway_link","trunk_link","street","street_limited"],.5,0],18,["match",["get","class"],["motorway","trunk","primary"],30,["secondary","tertiary"],24,["motorway_link","trunk_link","street","street_limited"],12,10]],"line-opacity":0},"source-layer":"road"},{minzoom:13,layout:{"line-join":"round","line-cap":"round"},filter:["all",["==",["geometry-type"],"LineString"],["!=",["get","type"],"service:parking_aisle"],["==",["get","structure"],"bridge"],["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","primary_link","secondary","secondary_link","tertiary","tertiary_link","service","street","street_limited","track"],!0,!1]],type:"line",source:"composite",id:"bridge",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],5,["match",["get","class"],["motorway","trunk","primary"],.5,"tertiary",.01,0],12,["match",["get","class"],["motorway","trunk","primary"],3,["secondary","tertiary"],2,["motorway_link","trunk_link","street","street_limited"],.5,0],18,["match",["get","class"],["motorway","trunk","primary"],30,["secondary","tertiary"],24,["motorway_link","trunk_link","street","street_limited"],12,10]],"line-color":["match",["get","class"],["primary_link","secondary_link","tertiary_link","street","street_limited","service","track"],"hsl(38, 100%, 98%)","hsl(0, 0%, 100%)"],"line-opacity":0},"source-layer":"road"},{minzoom:2,layout:{"line-join":"round","line-cap":"round"},filter:["all",["==",["get","admin_level"],1],["==",["get","disputed"],"false"],["==",["get","maritime"],"false"],["match",["get","worldview"],["US","all"],!0,!1]],type:"line",source:"composite",id:"admin-state-province",paint:{"line-dasharray":["step",["zoom"],["literal",[2,0]],7,["literal",[2,2,6,2]]],"line-width":["interpolate",["linear"],["zoom"],7,.75,12,1.5],"line-opacity":["interpolate",["linear"],["zoom"],0,0,2,0],"line-color":["step",["zoom"],"hsl(0, 0%, 80%)",4,"hsl(0, 0%, 65%)"]},"source-layer":"admin"},{minzoom:1,layout:{"line-join":"round","line-cap":"round"},filter:["all",["==",["get","admin_level"],0],["==",["get","disputed"],"false"],["==",["get","maritime"],"false"],["match",["get","worldview"],["US","all"],!0,!1]],type:"line",source:"composite",id:"admin-country",paint:{"line-color":"#08295a","line-width":["interpolate",["linear"],["zoom"],3,.5,10,2]},"source-layer":"admin"},{minzoom:1,layout:{"line-join":"round"},filter:["all",["==",["get","admin_level"],0],["==",["get","disputed"],"true"],["==",["get","maritime"],"false"],["match",["get","worldview"],["US","all"],!0,!1]],type:"line",source:"composite",id:"admin-country-disputed",paint:{"line-color":"#08295a","line-width":["interpolate",["linear"],["zoom"],3,.5,10,2],"line-dasharray":[1.5,1.5]},"source-layer":"admin"},{minzoom:12,layout:{"text-field":["coalesce",["get","name_en"],["get","name"]],"text-size":["interpolate",["linear"],["zoom"],9,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],10,9],20,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],15,14]],"text-max-angle":30,"text-font":["Roboto Regular","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":1,"text-rotation-alignment":"map","text-pitch-alignment":"viewport"},filter:["match",["get","class"],["motorway","trunk","primary","secondary","tertiary","street","street_limited","pedestrian"],!0,!1],type:"symbol",source:"composite",id:"road-label",paint:{"text-color":"hsl(0, 0%, 0%)","text-halo-color":"hsla(0, 0%, 100%, 0.95)","text-halo-width":1,"text-opacity":0},"source-layer":"road"},{minzoom:6,layout:{"text-line-height":1.1,"text-size":["interpolate",["linear"],["zoom"],10,11,18,13],"icon-image":["concat",["get","maki"],"-11"],"text-max-angle":38,"text-font":["Roboto Regular","Arial Unicode MS Regular"],"text-offset":[0,.75],"text-anchor":"top","text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":8},filter:["<=",["get","filterrank"],3],type:"symbol",source:"composite",id:"poi-label",paint:{"text-color":"hsl(38, 19%, 29%)","text-halo-color":"hsla(0, 0%, 100%, 0.75)","text-halo-width":1,"text-halo-blur":.5,"text-opacity":0},"source-layer":"poi_label"},{minzoom:8,layout:{"text-line-height":1.1,"text-size":["interpolate",["linear"],["zoom"],10,12,18,18],"icon-image":["step",["zoom"],["concat",["get","maki"],"-11"],13,["concat",["get","maki"],"-15"]],"text-font":["Roboto Regular","Arial Unicode MS Regular"],"text-offset":[0,.75],"text-anchor":"top","text-field":["step",["zoom"],["get","ref"],14,["coalesce",["get","name_en"],["get","name"]]],"text-max-width":9},type:"symbol",source:"composite",id:"airport-label",paint:{"text-color":"hsl(38, 19%, 29%)","text-halo-color":"hsla(0, 0%, 100%, 0.95)","text-halo-width":1,"text-opacity":0},"source-layer":"airport_label"},{minzoom:11,layout:{"text-field":["coalesce",["get","name_en"],["get","name"]],"text-transform":"uppercase","text-letter-spacing":.15,"text-max-width":8,"text-font":["Roboto Regular","Arial Unicode MS Regular"],"text-padding":3,"text-size":["interpolate",["linear"],["zoom"],12,11,16,16]},maxzoom:15,filter:["all",["<=",["get","filterrank"],3],["match",["get","type"],["suburb","quarter","neighbourhood"],!0,!1]],type:"symbol",source:"composite",id:"place-neighborhood-suburb-label",paint:{"text-halo-color":"hsla(0, 0%, 100%, 0.95)","text-color":"hsl(38, 0%, 100%)","text-opacity":0},"source-layer":"place_label"},{minzoom:6,layout:{"text-size":["interpolate",["linear"],["zoom"],5,["match",["get","type"],"town",9.5,8],16,["match",["get","type"],"town",20,16]],"text-font":["step",["zoom"],["literal",["Roboto Regular","Arial Unicode MS Regular"]],12,["match",["get","type"],"town",["literal",["Roboto Medium","Arial Unicode MS Regular"]],["literal",["Roboto Regular","Arial Unicode MS Regular"]]]],"text-max-width":0,"text-field":["coalesce",["get","name_en"],["get","name"]],"text-line-height":0},maxzoom:14,filter:["all",["match",["get","type"],["town","village","hamlet"],!0,!1],["<=",["get","filterrank"],3]],type:"symbol",source:"composite",id:"place-town-village-hamlet-label",paint:{"text-color":"hsl(0, 0%, 100%)","text-halo-color":"hsla(0, 0%, 100%, 0.95)","text-opacity":0},"source-layer":"place_label"},{minzoom:3,layout:{"text-size":["interpolate",["linear"],["zoom"],3,["step",["get","symbolrank"],12,9,11,12,10,14,6.5],14,["step",["get","symbolrank"],27,9,23,10,21,12,20]],"text-font":["step",["zoom"],["literal",["Roboto Medium","Arial Unicode MS Regular"]],10,["step",["get","symbolrank"],["literal",["Roboto Bold","Arial Unicode MS Bold"]],5,["literal",["Roboto Medium","Arial Unicode MS Regular"]]]],"text-max-width":["interpolate",["linear"],["zoom"],0,0,22,0],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-line-height":0},maxzoom:14,filter:["all",["<=",["get","filterrank"],3],["==",["get","type"],"city"]],type:"symbol",source:"composite",id:"place-city-label",paint:{"text-color":["interpolate",["linear"],["zoom"],5,"hsl(0, 0%, 100%)",6,"hsl(0, 0%, 100%)"],"text-halo-color":"hsla(0, 0%, 100%, 0.95)","text-opacity":0},"source-layer":"place_label"},{minzoom:4,layout:{"text-size":["interpolate",["linear"],["zoom"],4,9.5,9,18],"text-transform":"uppercase","text-font":["Roboto Black","Arial Unicode MS Bold"],"text-padding":1,"text-field":["step",["zoom"],["get","abbr"],5,["coalesce",["get","name_en"],["get","name"]]],"text-letter-spacing":.2,"text-max-width":6},maxzoom:8,filter:["==",["get","type"],"state"],type:"symbol",source:"composite",id:"state-label",paint:{"text-color":"hsl(38, 0%, 100%)","text-halo-width":1,"text-halo-color":"hsla(0, 0%, 100%, 0.95)","text-opacity":0},"source-layer":"place_label"},{minzoom:3,layout:{"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":["interpolate",["linear"],["zoom"],0,5,3,2],"text-font":["step",["zoom"],["literal",["Roboto Medium","Arial Unicode MS Regular"]],4,["literal",["Roboto Bold","Arial Unicode MS Bold"]]],"text-size":["interpolate",["linear"],["zoom"],1,["step",["get","symbolrank"],12,3,10,5,9],9,["step",["get","symbolrank"],35,3,27,5,22]],"text-line-height":0},maxzoom:8,filter:["==",["get","type"],"country"],type:"symbol",source:"composite",id:"country-label",paint:{"text-halo-color":"hsla(0, 0%, 100%, 0.95)","text-color":"hsl(0, 0%, 100%)"},"source-layer":"place_label"}],created:"2019-12-09T00:22:18.853Z",id:"ck3xoymds0f7b1cp9jx6e1x0y",modified:"2019-12-10T08:41:50.678Z",owner:"kseniaorlova",visibility:"public",draft:!1},center:[73.74919907361982,58.03996792162444],zoom:2.7,scrollZoom:!1});window.innerWidth<1280&&(i.setCenter([42.46577012499999,59.47539133091544]),i.dragPan.disable());var a=[{city:"Санкт-Петербург",coordinates:[30.315868,59.939095],isLarge:!0},{city:"Пермь",coordinates:[56.246723,58.014965],isLarge:!1},{city:"Москва",coordinates:[37.6174943,55.7504461],isLarge:!0},{city:"Красноярск",coordinates:[92.8725147,56.0090968],isLarge:!0},{city:"Сахалин",coordinates:[143.02650461,50.15947595],isLarge:!1}],l=[],s=null;a.forEach(function(e,t){var o=document.createElement("div"),n=document.createElement("span"),r=document.createElement("div");r.classList="map-pin__icon",n.classList="map-pin__label",o.className="map-pin",n.textContent=e.city,o.appendChild(r),o.appendChild(n),e.isLarge||o.classList.add("map-pin--small"),0===t&&o.classList.add("map-pin--distributor"),l.push(o),r.addEventListener("click",function(){null!==s&&l[s].classList.toggle("map-pin--active"),s=t,o.classList.toggle("map-pin--active"),c(a[s].coordinates)}),new mapboxgl.Marker(o).setLngLat(e.coordinates).addTo(i)});var c=function(e){var t=a[0].coordinates,o="https://api.mapbox.com/directions/v5/mapbox/driving-traffic/"+t[0]+","+t[1]+";"+e[0]+","+e[1]+"?steps=false&geometries=geojson&access_token="+mapboxgl.accessToken,r=new XMLHttpRequest;r.responseType="json",r.open("GET",o,!0),r.onload=function(){var o=r.response.routes[0].geometry.coordinates;o=o.filter(function(e,t){return t%2==0||t===o.length-1});var e={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}};i.getSource("route")?i.getSource("route").setData(e):i.addLayer({id:"route",type:"line",source:{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}}},layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#ffffff","line-width":1,"line-dasharray":[2,2]}});var t=0,n=window.setInterval(function(){t<o.length?(e.geometry.coordinates.push(o[t]),i.getSource("route").setData(e),t++):window.clearInterval(n)},100)},r.send()};c(a[0].coordinates),l[1].firstChild.click()}}(),function(){function a(e,t){e.classList.contains(p)||e.classList.add(p),t.forEach(function(e){e.classList.remove(p)})}var l,s=[59.983468064100904,30.2835555],c=[{name:"Офис партнера",coords:[59.983906405423596,30.28480587233421]},{name:"Офис партнера",coords:[59.98354620614924,30.280026175869686]}],d=[{name:"Магазин на Приморском",coords:[59.983468,30.423556]},{name:"Магазин на Ленинском",coords:[59.852081,30.238487]},{name:"Склад",coords:[59.916388,30.388515]}],u=document.querySelector(".contacts"),p="contacts__active-element",m=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;function e(){if(document.getElementById("map")){l=new window.ymaps.Map("map",{center:s,zoom:15,controls:[]});var e=new window.ymaps.Placemark(s,{hintContent:"Главный офис компании Вилана"},{iconLayout:"default#image",iconImageHref:"images/static/point-large.svg",iconImageSize:[84,119],iconImageOffset:[-55,-110]});if(e.events.add("click",function(){l.setCenter(s)}),u){var r=u.querySelector(".contacts__office"),t=u.querySelector(".contacts__office").getElementsByTagName("h2")[0],i=u.querySelectorAll(".contacts__item"),o=u.querySelectorAll(".contacts__item-name");t.addEventListener("click",function(e){l.setCenter(s),1279<m&&a(r,i)}),o.forEach(function(o,n){o.addEventListener("click",function(e){if(l.setCenter(d[n].coords),1279<m){i.forEach(function(e){e.classList.remove(p)}),r.classList.remove(p);var t=o.parentNode;t.classList.contains(p)||t.classList.add(p)}})}),window.addEventListener("resize",function(e){a(r,i),l.setCenter(s)})}var n=function(e,t){l.setCenter(e[t].coords)};d.forEach(function(e,t){var o=new window.ymaps.Placemark(d[t].coords,{hintContent:d[t].name},{iconLayout:"default#image",iconImageHref:"images/static/point-large.svg",iconImageSize:[84,119],iconImageOffset:[-55,-110]});l.geoObjects.add(o),o.events.add("click",function(){n(d,t)})}),c.forEach(function(e,t){var o=new window.ymaps.Placemark(c[t].coords,{hintContent:c[t].name},{iconLayout:"default#image",iconImageHref:"images/static/point-small.svg",iconImageSize:[42,60],iconImageOffset:[-55,-110]});l.geoObjects.add(o),o.events.add("click",function(){n(c,t)})}),l.geoObjects.add(e)}}document.addEventListener("DOMContentLoaded",function(){window.ymaps.ready(e)})}(),function(){function e(e,t,o,n,r){var i=null;this.min=t,this.max=o,this.step=n,this.label=r,this.container=e,this.container&&(this.inputField=this.container.querySelector(".number-input__input"),this.incrementButton=this.container.querySelector(".number-input__button--inc"),this.decrementButton=this.container.querySelector(".number-input__button--dec"),this.inputField&&(i=parseInt(this.inputField.value,10))),this.currentValue=i||this.min,this.inputField&&(this.mask=window.IMask(this.inputField,{mask:"num {"+r+"}",lazy:!1,blocks:{num:{mask:Number,min:t,max:o}}}))}e.prototype.init=function(){this.container&&(this.setValue(this.currentValue),this.incrementButton.addEventListener("click",this.incrementValue.bind(this)),this.decrementButton.addEventListener("click",this.decrementValue.bind(this)),this.inputField.addEventListener("input",this.inputChanged.bind(this)))},e.prototype.onChange=function(){this.inputField&&this.inputField.dispatchEvent(new Event("change"))},e.prototype.setButtonsAccessibility=function(){var e=this.isValidIncrement(),t=this.isValidDecrement();this.incrementButton.disabled=!e||"",this.decrementButton.disabled=!t||""},e.prototype.setValue=function(e){this.inputField.value=e+" "+this.label,this.currentValue=e,this.mask.updateValue(e),this.setButtonsAccessibility(),this.onChange()},e.prototype.isValidIncrement=function(){return""!==this.currentValue&&this.currentValue+this.step<=this.max},e.prototype.isValidDecrement=function(){return""!==this.currentValue&&this.currentValue-this.step>=this.min},e.prototype.incrementValue=function(){this.isValidIncrement()&&(this.currentValue+=this.step,this.setValue(this.currentValue))},e.prototype.decrementValue=function(){this.isValidDecrement()&&(this.currentValue-=this.step,this.setValue(this.currentValue))},e.prototype.inputChanged=function(){this.setValue(parseInt(this.inputField.value)||"")},window.NumberInput=e;var t=document.querySelector(".price-calculator__square-wrapper");t&&new e(t,1,1/0,1,"м²").init();var o=document.querySelector(".price-calculator__base-settings-wrapper");o&&new e(o,1,1/0,1,"шт.").init()}(),function(){var e=document.querySelectorAll(".opener");e&&e.forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),t.classList.toggle("opener--opened")})})}(),function(){var e=document.querySelector(".authorisation__button"),t=document.querySelector(".popup-signin"),o=document.querySelector(".order-form__form"),n=document.getElementById("order-name"),r=document.getElementById("order-email"),i=document.getElementById("order-tel"),a=document.getElementById("order-personal-data"),l=null;o&&(l=o.querySelector(".checkbox-row__label")),e&&e.addEventListener("click",function(){t&&window.openPopup(t)}),o&&(o.addEventListener("input",function(e){"checkbox"===e.target.type?e.target.nextElementSibling.classList.toggle(window.checkboxErrorClass,!1):window.resetError(e)}),window.createPhoneMask(i,!1),o.addEventListener("submit",function(e){window.toggleInputError(n),window.toggleEmailError(r),window.togglePhoneError(i),window.toggleCheckboxError(a,l),n.value&&window.MASK_NAME.test(n.value)&&window.MASK_EMAIL.test(r.value)&&!(i.value.length<1)&&!window.phoneErrorSymbol.test(i.value)&&a.checked?window.location="order-placed.html":e.preventDefault()}))}(),function(){function t(){e=window.scrollY,r.style.top="-"+e+"px",r.style.position="fixed",r.style.width="100%"}function o(){r.style.top="",r.style.position="",r.style.width="",window.scrollTo(0,parseInt(e||"0",10))}var e,n,r=document.querySelector("body"),i=document.querySelectorAll(".popup__close"),a=function(e){e&&e.preventDefault(),n&&function(e){e.classList.remove("popup--show"),e.classList.remove("overlay--show"),o(),n=null}(n)};if(i)for(var l=0;l<i.length;l++)i[l].addEventListener("click",a);window.addEventListener("keydown",function(e){27===e.keyCode&&a(e)}),r.addEventListener("click",function(e){e.target.classList.contains("overlay")&&a(e)}),window.openPopup=function(e){a(),e.classList.add("popup--show"),e.classList.add("overlay--show"),t(),n=e},window.closePopup=a,window.lockBody=t,window.unlockBody=o}(),function(){var e=document.querySelector(".profile-info");if(e){var t=Array.from(e.querySelectorAll(".profile-info__edit-btn")),o=Array.from(e.querySelectorAll(".profile-info__form-group"));t.forEach(function(e,t){e.addEventListener("click",function(e){o[e].classList.toggle("profile-info__form-group--view-mode")}.bind(null,t))});var n=document.querySelector(".profile-info__form"),r=n.querySelector("#email"),i=n.querySelector("#name"),a=n.querySelector("#lastname"),l=n.querySelector("#phone"),s=n.querySelector("#birthday"),c=n.querySelector("#password"),d=n.querySelector("#repeat-password");n.addEventListener("input",function(e){window.resetError(e)}),n.addEventListener("submit",function(e){e.preventDefault(),window.toggleEmailError(r),window.toggleInputError(i),window.toggleInputError(a),window.togglePhoneError(l),window.toggleDateError(s),window.togglePasswordError(c),window.toggleRepeatPasswordError(c,d)})}}(),function(){var e=document.querySelectorAll(".order-data__open"),t=document.querySelectorAll(".order-data__close"),o=document.querySelectorAll(".order-data__cancel"),n=document.querySelectorAll(".order-data__wrapper-order-data"),r=document.querySelector(".order-data__ordered-product"),i=document.querySelector(".order-data__wrapper-row"),a=document.querySelector(".popup-cancellation-question"),l=document.querySelector(".popup-cancellation-confirmation");if(a)var s=a.querySelector(".popup-cancellation-question__save"),c=a.querySelector(".popup-cancellation-question__cancel");for(var d=function(e,t){e.style.maxHeight=e.scrollHeight+"px",e.classList.add(t)},u=function(e,t){e.style.maxHeight=null,e.classList.remove(t)},p=function(e){var t=e.target.closest(".order-data__item");if(t){var o=t.querySelector(".order-data__ordered-product"),n=t.querySelector(".order-data__close"),r=t.querySelector(".order-data__open");if(o&&n&&r){if(window.innerWidth<768)return;o.style.maxHeight?u(o,"ordered-product--open"):d(o,"ordered-product--open"),n.classList.toggle("order-data__close--visible"),r.classList.toggle("order-data__open--hidden")}}},m=function(e){var t=e.target.closest(".order-data__item");if(t){var o=t.querySelector(".order-data__ordered-product"),n=t.querySelector(".order-data__close"),r=t.querySelector(".order-data__open"),i=t.querySelector(".order-data__wrapper-row");i&&o&&n&&r&&(o.style.maxHeight&&i.style.maxHeight?(u(i,"order-data__wrapper-row--open"),u(o,"ordered-product--open"),u(n,"order-data__close--visible")):(d(i,"order-data__wrapper-row--open"),d(o,"ordered-product--open"),d(n,"order-data__close--visible")),r.classList.toggle("order-data__open--hidden"))}},g=0;g<e.length;g++)e[g].addEventListener("click",p),t[g].addEventListener("click",p);if(n&&window.innerWidth<768)for(var w=0;w<e.length;w++)e[w].addEventListener("click",m),n[w].addEventListener("click",m),t[w].addEventListener("click",m);if(window.innerWidth<768&&i&&d(i,"order-data__wrapper-row--open"),r&&d(r,"ordered-product--open"),e.length&&e[0].classList.add("order-data__open--hidden"),t.length&&(window.innerWidth<768?d(t[0],"order-data__close--visible"):t[0].classList.add("order-data__close--visible")),o)for(g=0;g<o.length;g++)o[g].addEventListener("click",function(){a&&window.openPopup(a)});s&&s.addEventListener("click",function(){window.closePopup()}),c&&c.addEventListener("click",function(){window.openPopup(l)})}(),function(){var e=document.querySelector(".registry__form");if(e){var t,o=e.querySelector("#name"),n=e.querySelector("#lastname"),r=e.querySelector("#email"),i=e.querySelector("#phone"),a=e.querySelector("#registry-agreement"),l=e.querySelector("#password"),s=e.querySelector("#repeat-password");a&&(t=a.nextElementSibling),e.addEventListener("input",function(e){"checkbox"===e.target.type?e.target.nextElementSibling.classList.toggle(window.checkboxErrorClass,!1):window.resetError(e)}),window.createPhoneMask(i,!1),e.addEventListener("submit",function(e){e.preventDefault(),window.toggleEmailError(r),window.toggleInputError(o),window.toggleInputError(n),window.togglePhoneError(i),window.togglePasswordError(l),window.toggleRepeatPasswordError(l,s),window.toggleCheckboxError(a,t)})}}(),function(){var t=document.querySelector(".profile-menu__list"),e=document.querySelector(".profile-menu__toggle"),o="profile-menu__list--active";function n(e){e.target.closest(".profile-menu__list-wrapper")||t.classList.remove(o)}t&&e&&e.addEventListener("click",function(){t.classList.toggle(o),e.classList.toggle("profile-menu__toggle--active"),t.classList.contains(o)?document.addEventListener("click",n):document.removeEventListener("click",n)})}(),function(){var e,t,a,c,d,u,o=document.querySelectorAll(".scheme__item"),r="transform",i="translateX(-",l="scheme__item-wrapper--transparence-right",s="scheme__item-wrapper--transparence-left",p="scheme__arrow--hidden",m=!1,g=[];!function(){for(var e=0;e<o.length;e++)g.push(0)}();function w(e,t){e.classList.toggle(t)}function y(e,t,o,n){e.forEach(function(e){e.style.setProperty(r,i+(o[n]*t).toString()+"px)")})}function n(){768<=(e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)&&(c=1200-(t=e-2*30),a=1),e<768&&(t=e-2*12,a=Math.ceil(1200/t),c=(1200-t)/a)}function _(e,t){e.style.setProperty(r,i+t+"px)")}function h(e,t,o,n,r){r?0<o[n]&&(o[n]--,y(e,t,o,n)):o[n]<a&&(o[n]++,y(e,t,o,n))}function f(e,t,o,n,r,i){i?(n[r]===a-1&&(e.classList.add(l),o.classList.remove(p)),0===n[r]&&(e.classList.remove(s),t.classList.add(p))):(n[r]===a&&(e.classList.remove(l),o.classList.add(p)),1===n[r]&&(e.classList.add(s),t.classList.remove(p)))}if(n(),o){var v=document.querySelectorAll(".scheme__footer-right .btn");setTimeout(function(){if(v)for(var e=0;e<v.length;e++)window.switchCartButtonState(v[e],"btn--green","scheme__in-cart-btn")},100),o.forEach(function(e,n){var t=e.querySelector(".scheme__content"),o=e.querySelector(".scheme__open"),r=e.querySelector(".scheme__columns"),i=e.querySelector(".scheme__item-wrapper");o.addEventListener("click",function(e){e.preventDefault(),w(i,"scheme__item-wrapper--opened"),w(i,"scheme__item-wrapper--closed"),w(o,"scheme__open--switched")});var a=i.querySelector(".scheme__arrow--left"),l=i.querySelector(".scheme__arrow--right"),s=t.querySelectorAll(".scheme__row");l.addEventListener("click",function(){h(s,c,g,n,!1),f(i,a,l,g,n,!1),_(r,c)}),a.addEventListener("click",function(){h(s,c,g,n,!0),f(i,a,l,g,n,!0),_(r,"0")}),i.addEventListener("touchstart",function(e){d=e.changedTouches[0]},!1),i.addEventListener("touchmove",function(e){m=!0},!1),i.addEventListener("touchend",function(e){if(m){u=e.changedTouches[0];var t=Math.abs(d.pageX-u.pageX),o=Math.abs(d.pageY-u.pageY);(10<t||o<10)&&(u.pageX<d.pageX?(h(s,c,g,n,!1),f(i,a,l,g,n,!1),_(r,c)):(h(s,c,g,n,!0),f(i,a,l,g,n,!0),_(r,"0")))}m=!1},!1)}),window.addEventListener("resize",n)}window.toggleClass=w}(),function(){for(var e=document.querySelectorAll(".select"),n=document.querySelectorAll(".select__checkbox"),r=document.querySelectorAll(".select__title"),i=document.querySelectorAll(".single-select__checkbox-invisible"),a=document.querySelectorAll(".single-select__value"),t=document.querySelectorAll(".single-select__variants-list"),o=function(e){var t=e.querySelector(".select__list"),o=e.querySelector(".select__title");t&&t.addEventListener("change",function(e){var t=parseInt(o.getAttribute("data-count")||0,10);t+=e.target.checked?1:-1,o.setAttribute("data-count",t||"")})},l=0;l<e.length;l++)o(e[l]);function s(e,t,o,n,r){var i=null,a=null;e&&(i=e.querySelector("."+t),(a=e.querySelector("."+o))&&(a.style="z-index: 2"));for(var l=0;l<n.length;l++)n[l]!==i&&(n[l].checked=!1,r[l].style="z-index: 0")}document.addEventListener("click",function(e){var t=e.target.closest(".select"),o=e.target.closest(".single-select");s(t,"select__checkbox","select__title",n,r),s(o,"single-select__checkbox-invisible","single-select__value",i,a)});for(var c=0;c<t.length;c++)t[c].addEventListener("change",function(e){if(e.target.checked){var t=e.target.closest(".single-select");if(t){var o=t.querySelector(".single-select__value"),n=t.querySelector(".single-select__checkbox-invisible");o&&(o.innerHTML=e.target.value+" л",o.style="z-index: 0"),n&&(n.checked=!1)}}})}(),window.switchCartButtonState=function(e,o,n){e.addEventListener("click",function(e){e.target.classList.remove(o),e.target.classList.add(n),e.target.innerHTML="В корзине";var t=document.querySelector(".cart-tooltip");t&&(t.classList.add("cart-tooltip--active"),setTimeout(function(){t.classList.remove("cart-tooltip--active")},2e3))})},function(){var e=document.querySelector(".choose-color__call-button"),t=document.querySelector(".popup-technologist"),o=document.querySelector(".popup-thx"),n=document.querySelector(".popup-technologist__form"),r=document.getElementById("tech-name"),i=document.getElementById("tech-tel"),a=document.getElementById("tech-email"),l=document.getElementById("tech-adress"),s=document.getElementById("tech-date"),c=document.getElementById("tech-personal-data"),d=null;t&&(d=t.querySelector(".checkbox-row__label")),e&&e.addEventListener("click",function(){t&&window.openPopup(t)}),t&&(t.addEventListener("input",function(e){"checkbox"===e.target.type?e.target.nextElementSibling.classList.toggle(window.checkboxErrorClass,!1):window.resetError(e)}),window.createPhoneMask(i,!1),n.addEventListener("submit",function(e){window.toggleInputError(r),window.togglePhoneError(i),window.toggleEmailError(a),window.toggleEmptyFieldError(l),window.toggleDateError(s),window.toggleCheckboxError(c,d),!r.value||!window.MASK_NAME.test(r.value)||!window.MASK_EMAIL.test(a.value)||i.value.length<1||window.phoneErrorSymbol.test(i.value)||l.value.length<1||!window.MASK_DATE.test(s.value)||!c.checked?e.preventDefault():o?(window.openPopup(o),window.closePopupThx(o)):window.closePopup()}))}(),function(){var e=document.querySelectorAll(".vacancies__item"),t=document.querySelector(".vacancies__form"),o=/\.(pdf|txt|doc?x)$/i,n="vacancies__input-row--upload-error",r="vacancies__input-row--select-error";if(e&&e.forEach(function(e,t){var o=e.querySelector(".vacancies__open-button"),n=e.querySelector(".vacancies__item-wrapper");e.querySelector(".vacancies__item-name").addEventListener("click",function(e){e.preventDefault(),window.toggleClass(n,"vacancies__item-wrapper--opened"),window.toggleClass(n,"vacancies__item-wrapper--closed"),window.toggleClass(o,"vacancies__open-button--closed")})}),t){t.addEventListener("input",function(e){window.resetError(e)});var i=document.getElementById("vac-name"),a=document.getElementById("vac-email"),l=document.getElementById("vac-tel"),s=document.querySelector(".vacancies__input-row--upload"),c=document.getElementById("vac-upload"),d=document.getElementById("vac-upload-label"),u=document.querySelector(".vacancies__input-row--select"),p=document.getElementById("vac-select");window.createPhoneMask(l,!1),c.addEventListener("change",function(e){e.preventDefault(),s.classList.remove(n);var t=c.files[0].name.toLowerCase();o.test(t)?d.textContent=t:(s.classList.toggle(n,!0),window.changeErrorMessage(c,"Неверный формат файла!"))}),p.addEventListener("change",function(e){e.preventDefault(),u.classList.remove(r)}),t.addEventListener("submit",function(e){window.toggleInputError(i),window.toggleEmailError(a),window.togglePhoneError(l),function(e,t){e.value.length<1&&(t.classList.toggle(n,!0),window.changeErrorMessage(e,"Загрузите файл"))}(c,s),function(e,t){"0"===e.value&&(t.classList.toggle(r,!0),window.changeErrorMessage(e,"Выберите вакансию"))}(p,u),!i.value||!window.MASK_NAME.test(i.value)||"0"===p.value||!window.MASK_EMAIL.test(a.value)||l.value.length<1||window.phoneErrorSymbol.test(l.value)||c.value.length,e.preventDefault()})}}(),function(){var t=document.getElementById("search"),o=document.querySelector(".search-header__form-placeholder"),e=document.querySelector(".search-header__form-hide");t&&(o.addEventListener("click",function(e){t.focus()}),e.addEventListener("click",function(e){t.focus()}),t.addEventListener("input",function(e){t.style.setProperty("background-image","none"),o.textContent="",0===t.value.length&&(t.style.setProperty("background-image","url('images/static/search-gray.svg')"),o.textContent="Что будем искать?")}))}(),function(){var e=document.querySelector(".docs");if(e){var o=Array.from(e.querySelectorAll(".docs__menu-title")),n=Array.from(e.querySelectorAll(".docs__group")),r="docs__menu-title--active",i="docs__group--active",a=0;o.forEach(function(e,t){return e.addEventListener("click",function(){o[a].classList.remove(r),n[a].classList.remove(i),o[a=t].classList.add(r),n[a].classList.add(i)})});var t=e.querySelector(".docs__menu-wrapper"),l=e.querySelector(".docs__menu"),s=Array.from(l.querySelectorAll(".docs__menu-item"));t.classList.add("swiper-container"),l.classList.add("swiper-wrapper"),s.forEach(function(e){e.classList.add("swiper-slide")});new Swiper(".swiper-container",{slidesPerView:"auto",allowTouchMove:!1,breakpoints:{320:{allowTouchMove:!0},768:{allowTouchMove:!1}}});var c=Array.from(e.querySelectorAll(".docs__accordion-toggle")),d=Array.from(e.querySelectorAll(".docs__accordion-content")),u="docs__accordion-toggle--active",p=null;c.forEach(function(e,t){e.addEventListener("click",function(){null!==p&&p!==t&&(d[p].style.maxHeight="",c[p].classList.remove(u));var e=d[t];c[t].classList.toggle(u),p=e.style.maxHeight?(e.style.maxHeight="",null):(e.style.maxHeight=e.scrollHeight+"px",t)})}),window.onresize=function(){null!==p&&c[p].click()}}}(),function(){var e=document.querySelector(".popup-paid");e&&window.openPopup(e)}(),function(){var e=document.querySelector(".popup-request"),t=document.getElementById("request-name"),o=document.getElementById("request-email"),n=document.getElementById("request-tel"),r=document.getElementById("request-personal-data"),i=null,a=document.querySelector(".popup-thx");e&&(i=e.querySelector(".checkbox-row__label"),e.addEventListener("input",function(e){"checkbox"===e.target.type?e.target.nextElementSibling.classList.toggle(window.checkboxErrorClass,!1):window.resetError(e)}),window.createPhoneMask(n,!1),e.addEventListener("submit",function(e){window.toggleInputError(t),window.toggleEmailError(o),window.togglePhoneError(n),window.toggleCheckboxError(r,i),t.value&&window.MASK_NAME.test(t.value)&&window.MASK_EMAIL.test(o.value)&&!(n.value.length<1)&&!window.phoneErrorSymbol.test(n.value)&&r.checked?(e.preventDefault(),window.openPopup(a),window.closePopupThx(a)):e.preventDefault()}))}(),function(){var t=document.querySelector(".popup-promocode");if(t){window.openPopup(t);var e=document.querySelector(".popup-promocode__form"),o=document.getElementById("promocode-field");e.addEventListener("input",function(e){window.resetError(e)}),e.addEventListener("submit",function(e){window.toggleInputError(o),o.value.length<1?e.preventDefault():(e.preventDefault(),t.classList.remove("popup--show"),t.classList.remove("overlay--show"),unlockBody())})}}(),function(){var e=document.querySelector(".personal-solution__form");if(e){var t=e.querySelector("#name"),o=e.querySelector("#phone"),n=e.querySelector("#email"),r=e.querySelector(".personal-solution__form-button");e.addEventListener("input",function(e){window.resetError(e)}),e.addEventListener("submit",function(e){e.preventDefault(),window.toggleInputError(t),window.toggleEmailError(n),window.togglePhoneError(o),!(t.value&&window.MASK_NAME.test(t.value)&&window.MASK_EMAIL.test(n.value))||o.value.length<1||window.phoneErrorSymbol.test(o.value)?e.preventDefault():(e.preventDefault(),r.textContent="Успешно отправлено",r.classList.remove("btn--green"),r.classList.add("btn--dark-blue"),r.disabled=!0)})}}();